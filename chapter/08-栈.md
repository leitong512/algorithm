# 08|栈：如何实现浏览器的前进和后退功能

## 如何理解"栈"

操作特性：先进后出，后进先出。栈是一种"操作受限"的线性表，只允许在一端插入和删除数据

## 如何实现一个"栈"

栈主要包括两个操作：入栈和出栈。既可以用数组来实现，顺序栈；也可用链表实现，链式栈。

在入栈出栈过程中，只需要一两个临时变量存储空间，所以空间复杂度是O(1)
> 这里存储数据需要一个大小为`n`的数组，并不是说空间复杂度就是`O(n)`。因为，这个`n`个空间是必须的，无法省掉。我们说空间复杂度的
> 时候，是指除了原本的数据存储空间外，算法运行还需要额外的存储空间。   

在入栈、出栈只涉及栈顶个别数据的操作，所以时间复杂度都是`O(1)`

## 支持动态扩容的顺序栈

当数组空间不够时，我们重新申请一块更大的内存，将原来的数据统统拷贝过去。这样就实现了一个支持动态扩容的数组。
- 出栈时间复杂度：O(1)
- 入栈时间复杂度：最好的情况`O(1)`，最坏的情况`O(n)`；均摊时间复杂度`O(1)`

## 栈的应用

1. 函数调用

2. 表达式求值

编译器通过两个栈来实现的。其中一个保存操作数的栈，另一个是保存运算符的栈。从左向右遍历表达式，当遇到数字，我们就直接压入栈；
当遇到运算符，就与运算符栈的栈顶元素比较。如果比运算符栈顶元素的优先级高，就将当前运算符压入栈；如果比运算符栈顶元素的优先级
低或者相同，从运算符栈中取栈顶运算符，从操作数栈的栈顶取2个操作数，然后进行计算，再把计算完的结果压入操作数栈，继续比较

3. 括号匹配

用栈来保存为匹配的左括号，从左到右依次扫描字符串。当扫描到左括号时，则将其压入栈中；当扫描到右括号时，从栈顶取出一个左括号。
如果能够匹配，则继续扫描剩下的字符串。如果扫描的过程中，遇到不能配对的右括号或者栈中没有数据，则说明为非法格式。
当所有的括号都扫描完成之后，如果栈为空，则说明字符串为合法格式；否则，说明有未匹配的左括号，为非法格式。

## 解答开篇

如何实现浏览器的前进、后退功能？

使用两个栈，X 和 Y，我们把首次浏览的页面依次压入栈 X，当点击后退按钮时，再依次从栈 X 中出栈,并将出栈的数据依次放入栈 Y。我们点击
前进按钮时，我们依次从栈 Y 中取出数据，放入栈 X 中。当栈 X 中没有数据时，那就说明页面没有可以继续后退浏览了。当栈 Y 中没有数据，
那就说明没有页面可以点击前进按钮浏览了。

## 内容小结

栈是一种操作受限的数据结构，只支持栈和出栈操作。后进先出是最大的特点。